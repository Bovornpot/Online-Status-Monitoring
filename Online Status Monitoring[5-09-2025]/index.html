<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≤‡∏Ç‡∏≤</title>
    <link rel="stylesheet" href="assets/styles/style.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üè¢ ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≤‡∏Ç‡∏≤</h1>
            <p>Branch Management System - Online Status Monitoring</p>
        </div>

        <div class="stats">
            <div class="stat-card">
                <div class="stat-number" id="totalBranches">0</div>
                <div class="stat-label">‡∏™‡∏≤‡∏Ç‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="onlineBranches">0</div>
                <div class="stat-label">‡∏™‡∏≤‡∏Ç‡∏≤ Online</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="offlineBranches">0</div>
                <div class="stat-label">‡∏™‡∏≤‡∏Ç‡∏≤ Offline</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="onlinePercentage">0%</div>
                <div class="stat-label">‡πÄ‡∏õ‡∏≠‡∏£‡πå‡πÄ‡∏ã‡πá‡∏ô‡∏ï‡πå Online</div>
            </div>
        </div>

        <div class="controls">
            <div class="data-source-info" id="dataSourceInfo"></div>


            <div class="control-row">
                <div class="control-group">
                    <label>üìä Import ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (.xlsx, .xls, .csv)</label>
                    <input type="file" id="fileInput" accept=".xlsx,.xls,.csv">
                </div>
                <div class="control-group">
                    <label>&nbsp;</label>
                    <button id="exportExcelBtn" class="btn-excel">üìä Export Excel</button>
                </div>
                <div class="control-group">
                    <label>&nbsp;</label>
                     <button id="exportCsvBtn" class="btn-csv">üìÑ Export CSV</button>
                </div>
                <div class="control-group">
                    <label>&nbsp;</label>
                    <button id="exportPdfBtn" class="btn-pdf">üìù Export PDF</button>
                </div>
                <div class="control-group">
                    <label>&nbsp;</label>
                    <button id="clearDataBtn" class="btn-danger">üóëÔ∏è ‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</button>
                </div>
                <div class="control-group">
                    <label>&nbsp;</label>
                    <button id="historyBtn" class="btn-secondary">üìú ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</button>
                </div>
            </div>
        </div>

        <div class="chart-widget">
            <div class="chart-header">
                <h3 class="chart-title">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏ï‡∏≤‡∏°‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏™‡∏≤‡∏Ç‡∏≤</h3>
                <div class="chart-legend">
                    <div class="legend-item">
                        <div class="legend-dot online"></div>
                        <span>Online</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-dot offline"></div>
                        <span>Offline</span>
                    </div>
                </div>
            </div>

            <div class="chart-content">
                <div class="chart-container">
                    <canvas id="statusChart"></canvas>
                </div>

                <div class="chart-summary" id="statusSummaryContainer">
                    <p style="text-align: center; color: #6b7280; font-size: 14px;">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...</p>
                    <div class="summary-card co">
                        <div class="summary-header">
                            <div class="summary-type"><span class="badge">üè¢</span> CO (Company Owned)</div>
                            <div class="summary-total" id="coTotal">0</div>
                        </div>
                        <div class="summary-stats">
                            <div class="summary-detail online">
                                <div class="number" id="coOnline">0</div>
                                <div class="label">Online</div>
                            </div>
                            <div class="summary-detail offline">
                                <div class="number" id="coOffline">0</div>
                                <div class="label">Offline</div>
                            </div>
                            <div class="summary-detail rate">
                                <div class="number" id="coRate">0%</div>
                                <div class="label">Rate</div>
                            </div>
                        </div>
                    </div>

                    <div class="summary-card sbp">
                        <div class="summary-header">
                            <div class="summary-type"><span class="badge">ü§ù</span> SBP (Sub Business Partner)</div>
                            <div class="summary-total" id="sbpTotal">0</div>
                        </div>
                        <div class="summary-stats">
                            <div class="summary-detail online">
                                <div class="number" id="sbpOnline">0</div>
                                <div class="label">Online</div>
                            </div>
                            <div class="summary-detail offline">
                                <div class="number" id="sbpOffline">0</div>
                                <div class="label">Offline</div>
                            </div>
                            <div class="summary-detail rate">
                                <div class="number" id="sbpRate">0%</div>
                                <div class="label">Rate</div>
                            </div>
                        </div>
                    </div>

                    <div class="summary-card sub-area">
                        <div class="summary-header">
                            <div class="summary-type"><span class="badge">üìç</span> Sub-Area (‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏¢‡πà‡∏≠‡∏¢)</div>
                            <div class="summary-total" id="subAreaTotal">0</div>
                        </div>
                        <div class="summary-stats">
                            <div class="summary-detail online">
                                <div class="number" id="subAreaOnline">0</div>
                                <div class="label">Online</div>
                            </div>
                            <div class="summary-detail offline">
                                <div class="number" id="subAreaOffline">0</div>
                                <div class="label">Offline</div>
                            </div>
                            <div class="summary-detail rate">
                                <div class="number" id="subAreaRate">0%</div>
                                <div class="label">Rate</div>
                            </div>
                        </div>
                    </div>

                    <div class="summary-card ptt">
                        <div class="summary-header">
                            <div class="summary-type"><span class="badge">‚õΩ</span> ‡∏õ‡∏ï‡∏ó (PTT Station)</div>
                            <div class="summary-total" id="pttTotal">0</div>
                        </div>
                        <div class="summary-stats">
                            <div class="summary-detail online">
                                <div class="number" id="pttOnline">0</div>
                                <div class="label">Online</div>
                            </div>
                            <div class="summary-detail offline">
                                <div class="number" id="pttOffline">0</div>
                                <div class="label">Offline</div>
                            </div>
                            <div class="summary-detail rate">
                                <div class="number" id="pttRate">0%</div>
                                <div class="label">Rate</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="filter-panel">
             <div class="control-row">
                <div class="control-group">
                    <label>üîç ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤</label>
                    <input type="text" id="searchInput" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏Ç‡∏≤, ‡∏£‡∏´‡∏±‡∏™, ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î...">
                </div>

                <div class="control-group">
                    <label for="regionFilter">üìå ‡∏†‡∏≤‡∏Ñ</label>
                    <select id="regionFilter">
                        <option value="">‡∏ó‡∏∏‡∏Å‡∏†‡∏≤‡∏Ñ</option>
                    </select>
                </div>

                <div class="control-group">
                    <label for="branchStatusFilter">üìä ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</label>
                    <select id="branchStatusFilter">
                        <option value="">‡∏ó‡∏∏‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</option>
                    </select>
                </div>

                <div class="control-group">
                    <label>üåê ‡∏Å‡∏£‡∏≠‡∏á‡∏ï‡∏≤‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠</label>
                    <select id="statusFilter">
                        <option value="">‡∏ó‡∏∏‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</option>
                        <option value="online">Online ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô</option>
                        <option value="offline">Offline ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô</option>
                        <option value="cctv">‡πÑ‡∏°‡πà‡∏°‡∏µ CCTV ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô</option>
                    </select>
                </div>

                <div class="control-group">
                    <label for="recorderFilter">üìπ ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏†‡∏≤‡∏û:</label>
                    <select id="recorderFilter">
                        <option value="">‡∏ó‡∏∏‡∏Å‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏†‡∏≤‡∏û</option>
                    </select>
                </div>

                <div class="control-group">
                    <label>üìç ‡∏Å‡∏£‡∏≠‡∏á‡∏ï‡∏≤‡∏°‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î</label>
                    <select id="provinceFilter">
                        <option value="">‡∏ó‡∏∏‡∏Å‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î</option>
                    </select>
                </div>
                
                <div class="control-group">
                    <label>&nbsp;</label>
                    <button class="btn-add" id="addBranchBtn">‚úö ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏≤‡∏Ç‡∏≤‡πÉ‡∏´‡∏°‡πà</button>
                </div>
            </div>
        </div>

        <div class="table-container">
            <table id="mainTable">
                <thead id="tableHeader">
                    <tr>
                        <th class="table-sortable" data-column="storeCode" title="‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•">‡∏£‡∏´‡∏±‡∏™‡∏£‡πâ‡∏≤‡∏ô</th>
                        <th class="table-sortable" data-column="branchName" title="‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•">‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏Ç‡∏≤</th>
                        <th class="table-sortable" data-column="region" title="‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•">‡∏†‡∏≤‡∏Ñ</th>
                        <th class="table-sortable" data-column="status" title="‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
                        <th class="table-sortable" data-column="onlineStatus" title="‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°Online</th>
                        <th class="table-sortable" data-column="recorder" title="‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•">‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏†‡∏≤‡∏û</th>
                        <th class="table-sortable" data-column="district" title="‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•">‡∏≠‡∏≥‡πÄ‡∏†‡∏≠</th>
                        <th class="table-sortable" data-column="province" title="‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•">‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î</th>
                        <th class="table-sortable" data-column="phone">‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏£‡πâ‡∏≤‡∏ô</th>  
                        <th>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</th>
                        <!-- <th>‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th> -->
                    </tr>
                </thead>
                <tbody id="branchTableBody">
                    </tbody>
            </table>
        </div>

        <div class="pagination-container" id="paginationContainer" style="display: none;">
            <div class="pagination-info">
                <span id="paginationInfo">‡πÅ‡∏™‡∏î‡∏á 0 - 0 ‡∏à‡∏≤‡∏Å 0 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</span>
            </div>
            <div class="pagination-controls">
                <div class="page-size-selector">
                    <label>‡πÅ‡∏™‡∏î‡∏á‡∏ï‡πà‡∏≠‡∏´‡∏ô‡πâ‡∏≤:</label>
                    <select id="pageSizeSelect">
                        <option value="50">50</option>
                        <option value="100" selected>100</option>
                        <option value="200">200</option>
                        <option value="500">500</option>
                    </select>
                </div>
                <button id="firstPageBtn">‚èÆÔ∏è ‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</button>
                <button id="prevPageBtn">‚óÄÔ∏è ‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤</button>
                <span id="currentPageInfo">‡∏´‡∏ô‡πâ‡∏≤ 1 ‡∏à‡∏≤‡∏Å 1</span>
                <button id="nextPageBtn">‚ñ∂Ô∏è ‡∏ñ‡∏±‡∏î‡πÑ‡∏õ</button>
                <button id="lastPageBtn">‚è≠Ô∏è ‡∏´‡∏ô‡πâ‡∏≤‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢</button>
            </div>
        </div>
    </div>

    <div id="branchModal" class="modal">
        <div class="modal-content">
            <span class="close" id="closeModalBtn">&times;</span>
            <h2 id="modalTitle">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏≤‡∏Ç‡∏≤‡πÉ‡∏´‡∏°‡πà</h2>
            <form id="branchForm">
                <input type="hidden" id="editingId" name="id">
                <div class="form-grid">
                    <div class="form-group">
                        <label>‡∏£‡∏´‡∏±‡∏™‡∏£‡πâ‡∏≤‡∏ô *</label>
                        <input type="text" id="storeCode" name="storeCode" required>
                    </div>
                    <div class="form-group">
                        <label>‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏Ç‡∏≤ *</label>
                        <input type="text" id="branchName" name="branchName" required>
                    </div>
                    <div class="form-group">
                        <label>‡∏†‡∏≤‡∏Ñ *</label>
                        <select id="region" name="region" required>
                            <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏†‡∏≤‡∏Ñ</option>
                            <option value="BE">BE</option>
                            <option value="BG">BG</option>
                            <option value="BN">BN</option>
                            <option value="BS">BS</option>
                            <option value="BW">BW</option>
                            <option value="CM">CM</option>
                            <option value="NEL">NEL</option>
                            <option value="NEU">NEU</option>
                            <option value="PK">PK</option>
                            <option value="RC">RC</option>
                            <option value="REL">REL</option>
                            <option value="REU">REU</option>
                            <option value="RN">RN</option>
                            <option value="RSL">RSL</option>
                            <option value="RSU">RSU</option>
                            <option value="UB">UB</option>
                            <option value="YL">YL</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</label>
                        <select id="status" name="status">
                            <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</option>
                            <option value="CO">CO</option>
                            <option value="SBP">SBP</option>
                            <option value="Sub-Area">Sub-Area</option>
                            <option value="‡∏õ‡∏ï‡∏ó">‡∏õ‡∏ï‡∏ó</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°Online *</label>
                        <select id="onlineStatus" name="onlineStatus" required>
                            <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</option>
                            <option value="‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏° Online">‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏° Online</option>
                            <option value="‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏° Online">‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏° Online</option>
                            <option value="‡∏£‡πâ‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ï‡∏¥‡∏î‡∏Å‡∏•‡πâ‡∏≠‡∏á CCTV">‡∏£‡πâ‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ï‡∏¥‡∏î‡∏Å‡∏•‡πâ‡∏≠‡∏á CCTV</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>‡∏≠‡∏≥‡πÄ‡∏†‡∏≠ *</label>
                        <input type="text" id="district" name="district" required>
                    </div>
                    <div class="form-group">
                        <label>‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î *</label>
                        <input type="text" id="province" name="province" required>
                    </div>
                    <div class="form-group">
                        <label>‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏†‡∏≤‡∏û</label>
                        <input type="text" id="recorder" name="recorder">
                    </div>
                    <div class="form-group">
                        <label>‡∏¢‡∏µ‡πà‡∏´‡πâ‡∏≠</label>
                        <input type="text" id="brand" name="brand">
                    </div>
                    <div class="form-group">
                        <label>‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏£‡πâ‡∏≤‡∏ô</label>
                        <input type="text" id="phone" name="phone">
                    </div>
                    <div class="form-group">
                        <label>FC.</label>
                        <input type="text" id="fc" name="fc">
                    </div>
                    <div class="form-group">
                        <label>‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£ Hybrid FC</label>
                        <input type="text" id="phone_fc" name="phone_fc">
                    </div>
                    <div class="form-group">
                        <label>‡πÄ‡∏Ç‡∏ï</label>
                        <input type="text" id="zone" name="zone">
                    </div>
                    <div class="form-group">
                        <label>‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£ Hybrid ‡πÄ‡∏Ç‡∏ï</label>
                        <input type="text" id="phone_zone" name="phone_zone">
                    </div>
                    <div class="form-group">
                        <label>‡∏ù‡πà‡∏≤‡∏¢</label>
                        <input type="text" id="department" name="department">
                    </div>
                    <div class="form-group">
                        <label>‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£ Hybrid ‡∏ù‡πà‡∏≤‡∏¢</label>
                        <input type="text" id="phone_dept" name="phone_dept">
                    </div>
                    <div class="form-group">
                        <label>GM.</label>
                        <input type="text" id="gm" name="gm">
                    </div>
                    <div class="form-group">
                        <label>‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£ Hybrid GM</label>
                        <input type="text" id="phone_gm" name="phone_gm">
                    </div>
                    <div class="form-group">
                        <label>AVP</label>
                        <input type="text" id="avp" name="avp">
                    </div>
                    <div class="form-group">
                        <label>‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£ Hybrid AVP</label>
                        <input type="text" id="phone_avp" name="phone_avp">
                    </div>
                    
                </div>
                <div class="form-actions">
                    <button type="submit">üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                    <button type="button" id="cancelModalBtn">‚ùå ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                </div>
            </form>
        </div>
    </div>

    <div id="detailsModal" class="modal">
        <div class="modal-content">
            <span class="close" id="closeDetailsModalBtn">&times;</span>
            <h2 id="detailsModalTitle">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏™‡∏≤‡∏Ç‡∏≤</h2>
            
            <div id="detailsModalBody">
                <div class="details-grid" id="detailsGrid">
                    <div class="details-label">‡∏£‡∏´‡∏±‡∏™‡∏£‡πâ‡∏≤‡∏ô:</div><div class="details-value">Loading...</div>
                    <div class="details-label">‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏Ç‡∏≤:</div><div class="details-value">Loading...</div>
                </div>
            </div>

            <div class="form-actions" style="margin-top: 30px;">
                <button id="detailsModalEditBtn" class="btn-edit">‚úèÔ∏è ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                <button id="detailsModalDeleteBtn" class="btn-danger">üóëÔ∏è ‡∏•‡∏ö</button>
            </div>
        </div>
    </div>

    <div id="exportModal" class="modal">
        <div class="modal-content" style="max-width: 500px;">
            <span class="close" id="closeExportModalBtn">&times;</span>
            <h2>‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡πÑ‡∏ü‡∏•‡πå</h2>
            <form id="exportForm">
                <div class="form-group">
                    <label>‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏ü‡∏•‡πå (‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏™‡πà‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•‡πÑ‡∏ü‡∏•‡πå)</label>
                    <input type="text" id="exportFileName" required>
                    <small style="color: #666; margin-top: 5px;">‡πÄ‡∏ä‡πà‡∏ô branch_data_q3_2025</small>
                </div>
                <div class="form-actions" style="margin-top: 20px;">
                    <button type="submit">üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏•‡∏∞‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î</button>
                    <button type="button" id="cancelExportModalBtn">‚ùå ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                </div>
            </form>
        </div>
    </div>

    <div id="notificationModal" class="modal">
        <div class="modal-content" style="max-width: 450px; text-align: center;">
            
            <div class="notification-icon" id="notificationIcon"></div>

            <h2 id="notificationTitle" style="margin-top: 15px;"></h2>

            <p id="notificationMessage" style="color: #666; line-height: 1.6;"></p>

            <div class="form-actions" id="notificationActions" style="margin-top: 25px;">
                </div>

        </div>
    </div>

    <div id="historyModal" class="modal">
        <div class="modal-content" style="max-width: 800px;">
            <span class="close" id="closeHistoryModalBtn">&times;</span>
            <h2>üìú ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</h2>
            <div class="history-log-container" id="historyLogContainer">
                <p>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥...</p>
            </div>
        </div>
    </div>
    
    <!-- libs first -->
    <script src="assets/libs/xlsx.full.min.js"></script>
    <script src="assets/libs/dexie.min.js"></script>
    <script src="assets/libs/chart.min.js"></script>
    <script src="assets/libs/jspdf.umd.min.js"></script>
    <script src="assets/libs/html2canvas.min.js"></script>
    <script src="assets/libs/jspdf.plugin.autotable.min.js"></script>
    
    <!-- our split scripts: ensure dependencies loaded first -->
    <script src="assets/scripts/db.js"></script>
    <script src="assets/scripts/dom.js"></script>
    <script src="assets/scripts/utils.js"></script>
    <script src="assets/scripts/export.js"></script>
    <script src="assets/scripts/modals.js"></script>
    <script src="assets/scripts/ui.js"></script>
    <script src="assets/scripts/events.js"></script>
    <script src="assets/scripts/app.js"></script>
</body>
</html> 